




<!DOCTYPE html>
<html>
  <head>
      
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
      <!--Bootstrap-->
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
      
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
      
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
      
    <title>Directions service</title>
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      #floating-panel {
        position: absolute;
        top: 10px;
        left: 25%;
        z-index: 5;
        background-color: #fff;
        padding: 5px;
        border: 1px solid #999;
        text-align: center;
        font-family: 'Roboto','sans-serif';
        line-height: 30px;
        padding-left: 10px;
      }
    </style>
  </head>
  <body id="hide">
      
      
  
 
        
        
        
        
    
  

      
       <div class="container-fluid" id="map"></div>
    
      <!-- Large modal -->
<button type="button" class="btn btn-primary" data-toggle="modal" data-target=".bs-example-modal-sm">Navigate</button>

<div class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content">
      
    
        
        <div class="container-fluid">
            
            <div class="row">
                <div class="col-sm-12">
                <b>Start: </b>
                </div>
            </div>
            
            
            <div class="row">
                <div class="col-sm-12">
                
                 
        <select id="start" class="selectpicker" data-live-search="true" >
    <option id="myloc" value="geolocate">Curent Location</option> 
    <option value="29.552874, -95.093322">Building 110</option>
      <option value="29.555137, -95.089203">Building 2</option>
      <option value="29.555190, -95.086997">Building 3</option>
      <option value="29.555774,-95.086592">Building 4</option>
      <option value="29.555841, -95.085241">Building 5</option>
      <option value="29.553781, -95.094382">Rocket Parknann</option>
      <option value="29.557236, -95.085980">Building 7</option>
      <option value="29.558426, -95.086441">Building 8</option>
      <option value="29.559019, -95.086252">Building 9</option>
      <option value="29.558944, -95.086114">Building 10</option>
      <option value="29.558729, -95.087546">Building 11</option>
      <option value="29.557126, -95.088665">Building 12</option>
      <option value="29.555193, -95.090136">Building 13</option>
    </select>
                
                
                </div>
            </div>
            
            
             <div class="row">
                <div class="col-sm-12">
                <b>End: </b>
                </div>
            </div>
            
            
            <div class="row">
                <div class="col-sm-12">
                
                 
    <select id="end" class="selectpicker" data-live-search="true">
     <option value="29.552874, -95.093322">Building 110</option>
      <option value="29.555137, -95.089203">Building 2</option>
      <option value="29.555190, -95.086997">Building 3</option>
      <option value="29.555774,-95.086592">Building 4</option>
      <option value="29.555841, -95.085241">Building 5</option>
      <option value="29.553781, -95.094382">Rocket Park</option>
      <option value="29.557236, -95.085980">Building 7</option>
      <option value="29.558426, -95.086441">Building 8</option>
      <option value="29.559019, -95.086252">Building 9</option>
      <option value="29.558944, -95.086114">Building 10</option>
      <option value="29.558729, -95.087546">Building 11</option>
      <option value="29.557126, -95.088665">Building 12</option>
      <option value="29.555193, -95.090136">Building 13</option>
    </select>
                
                </div>
            </div>
            
            <div class="row">
                <div class="col-sm-12">
                
                  <b>Transport</b>
        <select id="transport" class="selectpicker">
        <option value="DRIVING">Driving</option>
        <option value="WALKING">Walking</option>
        </select>
                
                </div>
            </div>
            
           
        </div>
        
        
        
        
        
        
        
        
       
      
   
        
        
        
      
        
        
        
        
        
        
        
        <div class="modal-footer">
        <button id="go" type="button" class="btn btn-success" data-dismiss="modal">Go</button>
      </div>
        
        
    </div>
  </div>
</div>
       
        
     
 
      
      
    
    <script>
        
    
        
        
      var geolocate; //set geolocate as a global variable
      var option;
      var travel;
        
       
        
      function initMap() {
          
        var directionsService = new google.maps.DirectionsService;      //initializes directionsService and directionsDisplay
        var directionsDisplay = new google.maps.DirectionsRenderer;
        var map = new google.maps.Map(document.getElementById('map'), {    //initializes map
          zoom: 16,
        });
          
       if(navigator.geolocation)  //if you can find the location then...
       {   
           
           
           
           navigator.geolocation.getCurrentPosition(function(position) {

                    geolocate = new google.maps.LatLng(position.coords.latitude, position.coords.longitude); //sets current position
               
                

                    var infowindow = new google.maps.InfoWindow({
                        map: map,
                        position: geolocate
                    });

                    map.setCenter(geolocate); //centers the google map on current position
              
                    
                     //document.getElementById('start').innerHTML = geolocate;
                
                     

                }); 
          
       }
          
          
        directionsDisplay.setMap(map);
          
        var onChangeHandler = function() {
            
            
          calculateAndDisplayRoute(directionsService, directionsDisplay);
            
          
        };
          
       
          
          
        document.getElementById('go').addEventListener('click', onChangeHandler);
        //document.getElementById('end').addEventListener('change', onChangeHandler);
          
         
      }

      function calculateAndDisplayRoute(directionsService, directionsDisplay) {
           
          
               if(document.getElementById('start').value == "geolocate"){
                   option = geolocate;
               }
                else{
                option = document.getElementById('start').value;
                }
          
          
                if(document.getElementById('transport').value == "DRIVING"){
                    travel = 'DRIVING';
                }
                else{
                    travel = 'WALKING';
                }
             
         
         
          
          
        directionsService.route({
          origin:  option,
          destination: document.getElementById('end').value,
          travelMode: travel,
        }, function(response, status) {
          if (status === 'OK') {
            directionsDisplay.setDirections(response);
          } else {
            window.alert('Directions request failed due to ' + status);
          }
        });
      }
        
        
        
        
        
    
        
     
        function fail(){
            alert("something went wrong");
        }
        
        
        
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCc4W6N4eBrREAhMYSl-0D6CSa5oFj3_Ug&callback=initMap">
    </script>
      
      <!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/css/bootstrap-select.min.css">

<!-- Latest compiled and minified JavaScript -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/js/bootstrap-select.min.js"></script>

<!-- (Optional) Latest compiled and minified JavaScript translation files -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/js/i18n/defaults-*.min.js"></script>

  </body>
</html>




